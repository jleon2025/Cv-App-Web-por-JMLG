<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <title>Editor CV - Serverless</title>
  <!-- Icon library -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous" />
  <!-- Base Styles -->
  <link rel="stylesheet" href="css/base.css">
  <!-- Themes -->
  <link rel="stylesheet" href="css/themes.css">
</head>

<body class="theme-original">
  <div id="controls">
    <div style="display:inline-block; margin-right:15px;">
      <label for="themeSelect" style="font-family:sans-serif; font-size:12px; font-weight:bold;">Tema:</label>
      <select id="themeSelect" class="action-btn" style="padding: 5px;">
        <optgroup label="Básicos">
          <option value="theme-original">Original / Clásico</option>
          <option value="theme-modern">Moderno</option>
          <option value="theme-executive">Ejecutivo (Base)</option>
          <option value="theme-creative">Creativo</option>
          <option value="theme-minimal">Minimalista</option>
        </optgroup>
        <optgroup label="Formal">
          <option value="theme-formal-classic">Formal Clásico</option>
          <option value="theme-formal-elegant">Formal Elegante</option>
          <option value="theme-formal-modern">Formal Moderno</option>
        </optgroup>
        <optgroup label="Ejecutivo">
          <option value="theme-executive-bold">Ejecutivo Negrita</option>
          <option value="theme-executive-blue">Ejecutivo Azul</option>
          <option value="theme-executive-slate">Ejecutivo Slate</option>
        </optgroup>
        <optgroup label="Educativo">
          <option value="theme-edu-academic">Académico</option>
          <option value="theme-edu-clean">Educativo Limpio</option>
          <option value="theme-edu-struct">Estructurado</option>
        </optgroup>
        <optgroup label="Desarrollo / Tech">
          <option value="theme-dev-mono">Dev Monospace</option>
          <option value="theme-dev-term">Terminal Style</option>
          <option value="theme-dev-tech">Tech Startup</option>
        </optgroup>
        <optgroup label="Decorativo">
          <option value="theme-decor-floral">Floral / Suave</option>
          <option value="theme-decor-geo">Geométrico</option>
          <option value="theme-decor-art">Artístico</option>
        </optgroup>
      </select>
    </div>

    <button id="resetBtn" class="icon-btn" title="Restablecer ejemplo"><i class="fa-solid fa-rotate-left"></i></button>
    <button id="printBtn" class="icon-btn" title="Imprimir / Guardar PDF"><i class="fa-solid fa-print"></i></button>
    <button id="exportYamlBtn" class="icon-btn" title="Exportar YAML"><i
        class="fa-solid fa-file-arrow-down"></i></button>
    <button id="importYamlBtn" class="icon-btn" title="Importar YAML"><i class="fa-solid fa-file-arrow-up"></i></button>
    <input id="importYamlInput" type="file" accept=".yaml,.yml" style="display:none" />
  </div>

  <main id="cv">
    <h1 id="name" contenteditable="true">Cargando...</h1>
    <div id="connections">
      <span id="location" contenteditable="true">...</span> ·
      <span id="email" contenteditable="true">...</span> ·
      <span id="phone" contenteditable="true">...</span> ·
      <span id="website" contenteditable="true">...</span>
    </div>

    <div id="sections"></div>
  </main>

  <div class="signature" aria-hidden="true">&copy; | Cv App Web por JMLG</div>

  <!-- YAML lib for export support -->
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>

  <!-- Scripts Logic (Sequential Loading) -->
  <script src="js/storage.js"></script>
  <script src="js/app.js"></script>

  <script>
    // Init app
    window.addEventListener('DOMContentLoaded', () => {
      // App entry point
      if (typeof initApp === 'function') initApp();

      // Theme switcher logic
      const sel = document.getElementById('themeSelect');
      const body = document.body;

      // Load saved theme?
      const savedTheme = localStorage.getItem('cv_theme');
      if (savedTheme && ['theme-original', 'theme-modern', 'theme-executive', 'theme-creative', 'theme-minimal'].includes(savedTheme)) {
        body.className = savedTheme;
        sel.value = savedTheme;
      }

      sel.addEventListener('change', (e) => {
        body.className = e.target.value;
        localStorage.setItem('cv_theme', e.target.value);
      });
    });
  </script>
</body>

</html>